<!DOCTYPE html>
<html lang="en-US" class="">

<!-- Mirrored from 127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 22 Sep 2025 18:52:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <!-- Basics -->
    <title>Abacus - Guides - oneAPI Construction Kit - Products - Codeplay Developer</title>
    <meta name="description" content="Read the 'Abacus' for oneAPI Construction Kit 4.0.0 developer guide." />
    <meta name="keywords" content="guides, tutorials, guide, oneapi, construction, kit, risc-v, arm" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Open Graph -->
    <meta name="title" property="og:title" content="Abacus - Guides - oneAPI Construction Kit - Products - Codeplay Developer" />
    <meta name="type" property="og:type" content="website" />
    <meta name="image" property="og:image" content="http://127.0.0.1/assets/img/og-header.png" />
    <meta name="url" property="og:url" content="http://127.0.0.1/" />
    <meta name="description" property="og:description" content="Read the 'Abacus' for oneAPI Construction Kit 4.0.0 developer guide." />

    <!-- Fonts -->
    <link href="http://127.0.0.1/assets/css/material.css"
          rel="stylesheet preload prefetch"
          as="style" />

    <!-- Fav icon -->
    <link rel="icon" type="image/png" href="http://127.0.0.1/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="http://127.0.0.1/favicon.svg" />
    <link rel="shortcut icon" href="http://127.0.0.1/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="http://127.0.0.1/apple-touch-icon.png" />

    <link type="text/css"
          href="http://127.0.0.1/assets/css/responsive.css"
          rel="stylesheet"/>

    <script src="https://cdn.usefathom.com/script.js" data-site="XBWVDDFP" defer></script>

    <!-- Stylesheets -->
    <link type="text/css"
          href="http://127.0.0.1/assets/css/jquery.cookiepolicyprompt.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/jquery.popupdialog.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/dialogs.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/IndexPage.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/Guides/GuidePageLayout.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/Guides/GuidePageFormatting.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/Guides/GuidePage.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/Products/OneApi/ConstructionKit/OneApiConstructionKitShared.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/Products/OneApi/ConstructionKit/Guide/OneApiConstructionKitGuidePage.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>
    <link type="text/css"
          href="http://127.0.0.1/assets/css/Pages/Products/OneApi/ConstructionKit/Guide/OneApiConstructionKitGuidePage.style.css"
          rel="stylesheet preload prefetch"
          as="style"/>

    <!-- Scripts -->
    <script src="http://127.0.0.1/assets/js/jquery-3.6.3.min.js"></script>
    <script src="http://127.0.0.1/assets/js/jquery.copyright.js"></script>
    <script src="http://127.0.0.1/assets/js/jquery.cookiepolicyprompt.js"></script>
    <script src="http://127.0.0.1/assets/js/jquery.popupdialog.js"></script>
    <script src="http://127.0.0.1/assets/js/Pages/IndexPage.script.js"></script>
    <script src="http://127.0.0.1/assets/js/highlight.min.js"></script>
    <script src="http://127.0.0.1/assets/js/Pages/Guides/jquery.headingsinfocus.js"></script>
    <script src="http://127.0.0.1/assets/js/Pages/Guides/togglebutton.js"></script>
    <script src="http://127.0.0.1/assets/js/Pages/Guides/jquery.resizable.js"></script>
    <script src="http://127.0.0.1/assets/js/Pages/Guides/GuidePage.script.js"></script>

    <script>
        document.querySelectorAll('link').forEach((el) => {this.onload=null;this.rel='stylesheet';});
    </script>
</head>
<body data-deprecated="">

<!-- Header -->
<header>
    <nav class="main">
        <div>
            <a aria-label="Navigation Bar Logo" href="http://127.0.0.1/">
                <div id="codeplay-logo"></div>
            </a>
        </div>
        <div>
            <a title="Click to change production selection">
                <div>
                    <h2>Product</h2>
                    <h1>oneAPI Construction Kit</h1>
                </div>
            </a>
        </div>
        <div>
            <ul>
                <li >
                    <a href="http://127.0.0.1/products/oneapi/construction-kit/home" >
                        <div>

                            <span class="icon material-icons">home</span>

                            <div>Home</div>
                        </div>
                    </a>
                </li>
                <li  class="selected" >
                    <a href="http://127.0.0.1/products/oneapi/construction-kit/guides/" >
                        <div>

                            <span class="icon material-icons">menu_book</span>

                            <div>Guides</div>
                        </div>
                    </a>
                </li>
                <li >
                    <a href="https://github.com/codeplaysoftware/oneapi-construction-kit" target="_blank">
                        <div>

                            <span class="icon material-icons">local_library</span>

                            <div>Repository</div>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
        <div>
            <ul>
                <li>
                    <a href="http://127.0.0.1/support/" title="Get Support">
                        <span class="material-icons">help_outline</span>
                    </a>
                </li>
                <li>
                    <a id="burger"
                       title="Show Navigation Menu">
                        <span class="material-icons">menu</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- The burger menu, designed for mobile -->
    <div id="burger-menu">
        <ul>
            <li>
                <h1>oneAPI Menu</h1>
                <ul>
                    <li >
                        <a href="http://127.0.0.1/products/oneapi/construction-kit/home"
                           >Home</a>
                    </li>
                    <li  class="selected" >
                        <a href="http://127.0.0.1/products/oneapi/construction-kit/guides/"
                           >Guides</a>
                    </li>
                    <li >
                        <a href="https://github.com/codeplaysoftware/oneapi-construction-kit"
                           target="_blank">Repository</a>
                    </li>
                </ul>
            </li>
            <li>
                <h1>Main Menu</h1>
                <ul>
                    <li>
                        <a href="http://127.0.0.1/">Home</a>
                    </li>
                    <li>
                        <h1>Products</h1>
                        <ul>
                            <li>
                                <a href="http://127.0.0.1/products/computecpp/ce/">ComputeCpp CE</a>
                            </li>
                            <li>
                                <a href="http://127.0.0.1/products/computecpp/pe/">ComputeCpp PE</a>
                            </li>
                            <li>
                                <a href="http://127.0.0.1/products/computesuitercar/ce/">ComputeSuite for R-Car CE</a>
                            </li>
                            <li>
                                <a href="http://127.0.0.1/products/computesuitercar/pe/">ComputeSuite for R-Car PE</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="http://127.0.0.1/cookies">Cookie Policy</a>
                    </li>
                    <li>
                        <a href="https://codeplay.com/support/contact">Contact Us</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</header>

<!-- Main element -->
<main>

    <!-- File Container -->
<div class="layout-file guide" id="modules-builtins-abacus">
    <!-- Side Menu -->
    <div class="sticky file-menu-container styled-scroller">
       <div class="nav-padding">
           <!-- Title & Version Selector -->
           <div class="header">
               <h1 class="file-container-title">
                   <span class="material-icons">menu_book</span>Guides
               </h1>
               <div>
                   <!-- Version Selector -->
                   <div class="version-selector ">
                       <div><span class="material-icons">history</span>4.0.0</div>
                       <ul>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus">4.0.0</a></li>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/3.0.0/guides/modules/builtins/abacus">3.0.0</a></li>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/2.0.0/guides/modules/builtins/abacus">2.0.0</a></li>
                       </ul>
                       <ul>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus">4.0.0</a></li>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/3.0.0/guides/modules/builtins/abacus">3.0.0</a></li>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/2.0.0/guides/modules/builtins/abacus">2.0.0</a></li>
                       </ul>
                       <ul>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus">4.0.0</a></li>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/3.0.0/guides/modules/builtins/abacus">3.0.0</a></li>
                           <li><a href="http://127.0.0.1/products/oneapi/construction-kit/2.0.0/guides/modules/builtins/abacus">2.0.0</a></li>
                       </ul>
                   </div>
               </div>
           </div>
           <!-- Menu -->
           <ol class="file-menu">
               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/index.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Welcome to oneAPI Construction Kit’s documentation!</a><ol></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>oneAPI Construction Kit Overview</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/preface.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Preface</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/introduction.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Introduction</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/introduction/architecture.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>oneAPI Construction Kit Architecture</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/introduction/compiler-view.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Compiler View</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/hardware.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Mapping ComputeMux to Hardware</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/hardware/memory-requirements.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Memory Requirements</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/hardware/atomic-requirements.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Atomic Requirements</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/hardware/floating-point-requirements.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Floating-Point Requirements</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/hardware/synchronization-requirements.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Synchronization Requirements</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/runtime.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Runtime Information</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/runtime/computemux-runtime.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>ComputeMux Runtime</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/runtime/driver-requirements.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Driver Requirements</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/runtime/supported-toolchains.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Supported Toolchains</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/compiler.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Compiler Information</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/compiler/computemux-compiler.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>ComputeMux Compiler</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/compiler/ir.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Intermediate Representation</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/compiler/supported-llvm-versions.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Supported LLVM Versions</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/compiler/non-requirements.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>ComputeMux Compiler Non-Requirements</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/example-scenarios.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Example Hardware Feature Scenarios</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/example-scenarios/mapping-custom-instructions-to-builtin-functions.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Mapping Custom Instructions To Builtin Functions</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/example-scenarios/mapping-custom-ip-blocks-to-builtin-kernels.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Mapping Custom IP Blocks To Builtin Kernels</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/example-scenarios/how-to-support-large-scratchpad-memories.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>How To Support Large Scratchpad Memories</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/example-scenarios/mapping-algorithms-to-vector-hardware.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Mapping Algorithms To Vector Hardware</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/example-scenarios/refsi-in-kernel-dma.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>RefSi In-Kernel DMA for RISC-V</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/toolkit.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>oneAPI Construction Kit</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/new-target-quick-start.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Creating a New ComputeMux Target: Quick Start</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Tutorials</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-a-new-hal.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Creating a New HAL</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-new-hal/initial-setup.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Initial Setup</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-new-hal/kernel-compilation.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Kernel Compilation</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-new-hal/runing-clik-tests.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Running clik Tests</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-new-hal/skeleton-hal-overview.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Overview of the Skeleton HAL Code</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-new-hal/implementing-hal-operations.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Implementing HAL Operations</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-a-new-mux-target.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Creating a New ComputeMux Target</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-a-new-mux-target/running-new-target-script.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Running the create_target.py Script</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-a-new-mux-target/building-and-running-tests.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Building and Running Tests</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-a-new-mux-target/adapting-target-pass-pipeline.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Adapting the Pass Pipeline for the Target</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/tutorials/creating-a-new-mux-target/extending-it-further.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Extending it Further</a><ol></ol></li></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Codeplay Reference Silicon</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon/overview.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Codeplay Reference Silicon Overview</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon/command-processor.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Command Processor Reference</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon/dma-controller.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>DMA Controller Reference</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon/dma-programming-guide.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>DMA Programming Guide</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon/driver-interface.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>RefSi Driver Interface</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/overview/reference-silicon/mapping-opencl-to-refsi.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>How The Platform Maps to SYCL and OpenCL</a><ol></ol></li></ol></li></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/getting-started.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Getting Started</a><ol></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/specifications.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Specifications</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/specifications/versioning.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Versioning Scheme</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/specifications/mux-runtime-spec.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>ComputeMux Runtime Specification</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/specifications/mux-compiler-spec.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>ComputeMux Compiler Specification</a><ol></ol></li></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/developer-guide.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Developer Guide</a><ol></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/tutorials.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Tutorials</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/tutorials/adding-a-custom-builtins-extension.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Adding A Custom Builtins Extension</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/tutorials/custom-lowering-work-item-builtins.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Custom Lowering Work-Item Builtins</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/tutorials/adding-target-specific-metadata.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Adding Target-Specific Metadata</a><ol></ol></li></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/design.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Design</a><ol></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>OpenCL</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/cmake.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>OpenCL CMake</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/computemux_mapping.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>How OpenCL Concepts Are Mapped Onto ComputeMux</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>OpenCL Extensions</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_codeplay_kernel_debug.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Kernel Debug - cl_codeplay_kernel_debug</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_codeplay_extra_build_options.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Extra Build Options - cl_codeplay_extra_build_options</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_codeplay_kernel_exec_info.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Kernel Exec Info - cl_codeplay_kernel_exec_info</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_codeplay_performance_counters.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Performance Counters - cl_codeplay_performance_counters</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_codeplay_soft_math.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Soft Math - cl_codeplay_soft_math</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_codeplay_wfv.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Whole Function Vectorization - cl_codeplay_wfv</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_intel_unified_shared_memory.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>USM - cl_intel_unified_shared_memory</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/extension/cl_intel_required_subgroup_size.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Required subgroup sizes for kernels  - cl_intel_required_subgroup_size</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/external-extensions.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>OpenCL External Extensions</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/icd-loader.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>OpenCL ICD Loader</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/intercept.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>OpenCL Intercept Layer</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/tools.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Tools</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/test.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Tests</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/cl/test/unitcl.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>UnitCL</a><ol></ol></li></ol></li></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/source/vk.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Vulkan</a><ol></ol></li>               <li class="selected"><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Modules</a><ol><li class="selected"><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Builtins</a><ol><li class="selected focused"><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Abacus</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/libimg.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Image Library</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>ComputeMux</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/changes.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Change Log</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/compiler.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Compiler</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/cmake.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>CMake</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/bumping-the-spec.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Bumping the Specification Version</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/host.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Host CPU</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/targets/host/extension/cl_codeplay_host_builtins.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>cl_codeplay_host_builtins</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/targets/host/extension/cl_codeplay_set_threads.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>cl_codeplay_set_threads</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/targets/host/lit.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Host lit test suite</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/mux/targets/host/debug.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Host Debug Features</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/riscv.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>RISC-V</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/compiler.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Compiler</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/compiler/overview.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Overview</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/compiler/utils.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Compiler Utilities</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/compiler/tools.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Tools</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/compiler/tools/muxc.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>muxc</a><ol></ol></li></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/loader.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>ELF loader</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/vecz.html"><div class="icon"><span class="icon material-icons">subdirectory_arrow_right</span></div>Vecz</a><ol><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/vecz/vecz.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Vecz Documentation</a><ol></ol></li></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/spirv-ll.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>spirv-ll</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/debug.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Debug Module</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/cargo.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Cargo Module</a><ol></ol></li><li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/metadata.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Metadata API</a><ol></ol></li></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/cmake.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>CMake Development</a><ol></ol></li>               <li class=""><a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/scripts.html"><div class="icon"><span class="icon material-icons">arrow_forward</span></div>Scripts</a><ol></ol></li>           </ol>
       </div>
    </div>
    <!-- Core Content -->
    <div>
        <!-- File Content -->
        <div id="content-container" class="nav-padding">
            <article class="file-content-container">
                <header>
                    <!-- Deprecated Notice -->

                    <div class="title">
                        <a class="header-link" href="#abacus">
                            <h1>Abacus</h1>
                        </a>
                        <div>
                            <a href="#rate" title="Rate this guide">
                                <i class="material-icons">thumb_up</i>
                            </a>

                            <a target="_blank" href="https://github.com/codeplaysoftware/oneapi-construction-kit/blob/main/doc/modules/builtins/abacus.md" rel="noopener" title="Contribute to this guide">
                                <i class="material-icons">edit</i>
                            </a>

                            <a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/libimg" title="Goto the next guide">
                                <i class="material-icons">arrow_forward_ios</i>
                            </a>
                        </div>
                    </div>

                </header>

                <div class="formatted-text">
                    <a id="top"></a>
                    <html><body><div class="document">
<div>
<div class="tex2jax_ignore mathjax_ignore section" id="abacus">

<p>Abacus is Codeplay’s kernel library for compute languages.</p>
<p>Key features include;</p>
<ul class="simple">
<li><p>OpenCL 1.2 floating point math functions.</p></li>
<li><p>Heavily optimized for GPU, DSP and vector architectures.</p></li>
<li><p>Satisfies the high precision requirements for OpenCL conformance.</p></li>
<li><p>High code quality and documentation for easy maintainability.</p></li>
</ul>
<div class="section" id="release-notes">
<a class="header-link" href="#release-notes"><h2 id="release-notes">Release Notes</h2><span class="material-icons">link</span></a>
<div class="section" id="jam-roly-poly-12th-july-2016">
<a class="header-link" href="#jam-roly-poly-12th-july-2016"><h3 id="jam-roly-poly-12th-july-2016">Jam Roly Poly - 12th July 2016</h3><span class="material-icons">link</span></a>
<p>The Jam Roly Poly release marks a broad stabilization of the Abacus codebase -
the code is shipping in many more platforms now, we have wide testing support
from a plethora of architectures, and the code is working perfectly well for our
customers.</p>
<ul class="simple">
<li><p>Huge tidy up of the code, unifying a number of built up conventions.</p></li>
<li><p>Added flush-to-zero support throughout Abacus.</p></li>
<li><p>Fixed some CTS-untested corner cases in our algorithms.</p></li>
</ul>
</div>
<div class="section" id="iced-bun-9th-october-2015">
<a class="header-link" href="#iced-bun-9th-october-2015"><h3 id="iced-bun-9th-october-2015">Iced Bun - 9th October 2015</h3><span class="material-icons">link</span></a>
<p>The highlight of the Iced Bun release finalized our double support by having
explicitly vectorized variants of all the double functions on offer.</p>
<ul class="simple">
<li><p>full double support enabled (all vectorizations return correctly).</p></li>
<li><p>added <code class="docutils literal notranslate">native_*</code> builtins for float.</p></li>
<li><p>super fast new algorithm for <code class="docutils literal notranslate">acos</code>/<code class="docutils literal notranslate">asin</code> double bringing 1.5-10x speed up.</p></li>
<li><p>spliced out some of the non-IP functionality into <code class="docutils literal notranslate">abacus_detail_*</code> headers. A
customer of Abacus really needed, for ease of use, these to be in a header to
allow for function inlining, code size reduction, and code shipping ease.</p></li>
</ul>
</div>
<div class="section" id="hairst-bree-17th-july-2015">
<a class="header-link" href="#hairst-bree-17th-july-2015"><h3 id="hairst-bree-17th-july-2015">Hairst Bree - 17th July 2015</h3><span class="material-icons">link</span></a>
<p>The Hairst Bree release was a broadening of the scope of the math library, we’ve
brought in nearly all of the functionality required to fully implement the
OpenCL runtime, the only things missing are atomics (which required specific
software solutions on each platform), and <code class="docutils literal notranslate">vload</code>/<code class="docutils literal notranslate">vstore</code> for half. These
implementations are platform agnostic, they’ll work out of the box on whatever
platform required.</p>
<ul class="simple">
<li><p>5.6x performance improvement for <code class="docutils literal notranslate">hypot(float, float)</code>.</p></li>
<li><p>We now generate our abacus headers via some CMake wizardry.</p></li>
<li><p>Abacus now includes most of the OpenCL runtime, everything except atomic
builtins and <code class="docutils literal notranslate">vload</code>/<code class="docutils literal notranslate">vstore</code> for half.</p></li>
<li><p>Initial support for double floating point is in the process of being added.</p></li>
<li><p>Abacus builds to a C++ static and shared library.</p></li>
</ul>
</div>
<div class="section" id="granny-sookers-13th-november-2014">
<a class="header-link" href="#granny-sookers-13th-november-2014"><h3 id="granny-sookers-13th-november-2014">Granny Sookers - 13th November 2014</h3><span class="material-icons">link</span></a>
<p>The Granny Sookers release has been a spring clean release - we’ve spent a good
deal of time simplifying the maths library, cleaning up the headers, and trying
to make the product much more usable for our customers. But of course - we’ve
snuck in some really cool little features too;</p>
<ul class="simple">
<li><p>C++ compilation mode</p></li>
<li><p>Monolithic headers separation begun</p></li>
<li><p>Performance improvements for <code class="docutils literal notranslate">pow</code>, <code class="docutils literal notranslate">powr</code> &amp; <code class="docutils literal notranslate">pown</code> functions</p></li>
</ul>
<p>Previously, we referred to this product at Codeplay’s Math library, but the
library has become so much more than that. To match the evolving focus of the
library and to not constrain us, we’ve decided on a rename. Welcome to the
wonderful world our new product, Abacus.</p>
</div>
</div>
<div class="section" id="hardware-requirements">
<a class="header-link" href="#hardware-requirements"><h2 id="hardware-requirements">Hardware Requirements</h2><span class="material-icons">link</span></a>
<p>Abacus has been designed as carefully as possible to allow for low level
computation on our customers hardware, while also as much as possible trying to
abstract what we can away from the underlying hardware.</p>
<p>We do make certain assumptions on what the underlying hardware is capable of
though.</p>
<div class="section" id="basic-type-requirements">
<a class="header-link" href="#basic-type-requirements"><h3 id="basic-type-requirements">Basic Type Requirements</h3><span class="material-icons">link</span></a>
<p>We use the following types, though they may not be natively supported:</p>
<ul class="simple">
<li><p>signed 8-bit integer</p></li>
<li><p>signed 16-bit integer</p></li>
<li><p>signed 32-bit integer</p></li>
<li><p>signed 64-bit integer</p></li>
<li><p>unsigned 8-bit integer</p></li>
<li><p>unsigned 16-bit integer</p></li>
<li><p>unsigned 32-bit integer</p></li>
<li><p>unsigned 64-bit integer</p></li>
<li><p>16-bit floating point</p></li>
<li><p>32-bit floating point</p></li>
<li><p>64-bit floating point</p></li>
<li><p>1/2/3/4/8/16 element vectors of the above types</p></li>
</ul>
</div>
<div class="section" id="denorm-support">
<a class="header-link" href="#denorm-support"><h3 id="denorm-support">Denorm Support</h3><span class="material-icons">link</span></a>
<p>Abacus fully supports denormal numbers for our floating point functions.</p>
</div>
<div class="section" id="rounding-modes">
<a class="header-link" href="#rounding-modes"><h3 id="rounding-modes">Rounding Modes</h3><span class="material-icons">link</span></a>
<p>Our default rounding mode is Round-to-Even.</p>
</div>
<div class="section" id="ulp-requirements-for-basic-operations">
<a class="header-link" href="#ulp-requirements-for-basic-operations"><h3 id="ulp-requirements-for-basic-operations">ULP Requirements for Basic Operations</h3><span class="material-icons">link</span></a>
<p>Since Abacus was incepted as a kernel library to provide OpenCL builtins on GPU
hardware, we follow the requirements OpenCL places on target hardware for basic
operations.</p>
<div class="section" id="what-is-ulp">
<a class="header-link" href="#what-is-ulp"><h4 id="what-is-ulp">What is ULP?</h4><span class="material-icons">link</span></a>
<p>ULP stands for Unit in the Last Place, or Unit of Least Precision, is the
spacing between floating-point numbers, used as a measurement of accuracy of
floating point numbers. More information can be found on
<a class="reference external" href="https://en.wikipedia.org/wiki/Unit_in_the_last_place">Wikipedia</a>.</p>
<p>For example, say we would like to compute the ULP of 3.14159, we first extract
the exponent using <code class="docutils literal notranslate">ilogb</code>, then plug that into the equation <code class="docutils literal notranslate">ULP(x) = 2^(e-p+1)</code>
(where <code class="docutils literal notranslate">p</code> is <code class="docutils literal notranslate">24</code> if we’re dealing with FP32):</p>
<pre><code class="language-cpp">float number = 3.14159f;
int exponent = std::ilogb(number); // 1
float ulp = std::ldexp(1.0f, exponent - 23); // 2.38419e-07
</code>
</pre>
<p>We can also use the alternative definition where <code class="docutils literal notranslate">ULP(x)</code> is the distance
between the two closest straddling floating-point numbers <code class="docutils literal notranslate">a</code> and <code class="docutils literal notranslate">b</code> (i.e.
<code class="docutils literal notranslate">a &lt;= x &lt;= b</code> and <code class="docutils literal notranslate">a != b</code>) to verify this:</p>
<pre><code class="language-cpp">float number = 3.14159f;
float a = number; // `number` is the same as `a`, due to FP rounding.
float b = std::nextafter(number, 4.0f); // next floating point value towards 4.
float ulp = b - a; // 2.38419e-07
</code>
</pre>
<div class="section" id="calculating-the-ulp-error-of-an-fp16-function">
<a class="header-link" href="#calculating-the-ulp-error-of-an-fp16-function"><h5 id="calculating-the-ulp-error-of-an-fp16-function">Calculating the ULP error of an FP16 function</h5><span class="material-icons">link</span></a>
<p>Lets say we have implemented an FP16 function <code class="docutils literal notranslate">sinpi(x)</code>, which calculates
<code class="docutils literal notranslate">sin(pi * x)</code>, and for a specific input, it calculates the following result:</p>
<pre><code class="language-default">sinpi(1.234) = -0.67041 [0xb95d]
</code>
</pre>
<p>We know that the <em>true</em> FP16 value is <code class="docutils literal notranslate">-0.671387 [0xb95f]</code>. This is the
infinitely precise result of <code class="docutils literal notranslate">sinpi(1.234)</code> rounded to FP16. We can calculate
the ULP error by working out the difference between the actual and expected
value, then divide by the ULP of the expected result (where <code class="docutils literal notranslate">p</code> is 11 for FP16
in the ULP equation):</p>
<pre><code class="language-default">result = -0.67041
expected = -0.671387
expected_exp = ilogb(expected) = -1
ulp_diff = (result - expected) / 2^(expected_exp - 11 + 1) = 2.000896
</code>
</pre>
<p>If the specification says that <code class="docutils literal notranslate">sinpi(x)</code> must be within 2 ULP of the exact
answer, then this result would not be conformant, as the ULP difference is
greater than 2.</p>
</div>
</div>
<div class="section" id="bit-floating-point">
<a class="header-link" href="#bit-floating-point"><h4 id="bit-floating-point">16-bit Floating Point</h4><span class="material-icons">link</span></a>
<p>We assume that IEEE 754 compliant floating point numbers are available on the
hardware, with the following ULP guarantees.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate">x + y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 16 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x - y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 16 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x * y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 16 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x / y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 16 bit floating point numbers, &lt;= 2.5 ULP.</p></li>
</ul>
</div>
<div class="section" id="id1">
<a class="header-link" href="#id1"><h4 id="id1">32-bit Floating Point</h4><span class="material-icons">link</span></a>
<p>We assume that IEEE 754 compliant floating point numbers are available on the
hardware, with the following ULP guarantees.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate">x + y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 32 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x - y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 32 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x * y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 32 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x / y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 32 bit floating point numbers, &lt;= 2.5 ULP.</p></li>
</ul>
</div>
<div class="section" id="id2">
<a class="header-link" href="#id2"><h4 id="id2">64-bit Floating Point</h4><span class="material-icons">link</span></a>
<p>We assume that IEEE 754 compliant floating point numbers are available on the
hardware, with the following ULP guarantees.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate">x + y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 64 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x - y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 64 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x * y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 64 bit floating point numbers, correctly rounded.</p></li>
<li><p><code class="docutils literal notranslate">x / y</code>, <code class="docutils literal notranslate">x</code> and <code class="docutils literal notranslate">y</code> are 64 bit floating point numbers, &lt;= 2.5 ULP.</p></li>
</ul>
</div>
</div>
<div class="section" id="notes-on-our-implementation">
<a class="header-link" href="#notes-on-our-implementation"><h3 id="notes-on-our-implementation">Notes on Our Implementation</h3><span class="material-icons">link</span></a>
<p>While we require support for 64-bit signed and unsigned integer types - we try
as much as possible to avoid using them. Since Abacus is primarily written with
customer GPUs in mind, we have only used 64-bit types where we would otherwise
have to emulate 64-bit operations using 32-bit hardware. In practice, the most
performance intensive section of Abacus (<code class="docutils literal notranslate">abacus_math</code>) uses 64-bit types only
when calling <code class="docutils literal notranslate">modf</code>, remainder and <code class="docutils literal notranslate">remquo</code>.</p>
</div>
</div>
<div class="section" id="implementation">
<a class="header-link" href="#implementation"><h2 id="implementation">Implementation</h2><span class="material-icons">link</span></a>
<p>Notes on algorithms used to implement the maths library, as well as ideas for
future optimizations.</p>
<div class="section" id="maple-worksheets">
<a class="header-link" href="#maple-worksheets"><h3 id="maple-worksheets">Maple Worksheets</h3><span class="material-icons">link</span></a>
<p>The <code class="docutils literal notranslate">maple</code> directory of abacus contains files with the <code class="docutils literal notranslate">.mw</code> extension,
these are worksheets which can be loaded into the Maple software environment.
Worksheets provide mathematical expressions, computations, and plots visualizing
how the algorithm implementing each builtin function was derived.</p>
<p>The Maple software environment includes a free viewer called Maple Player which
can be used to view the worksheets. A copy of Maple Player can be downloaded
from <a class="reference external" href="https://www.maplesoft.com/products/maple/MaplePlayer/mapleplay-download.aspx">here</a></p>
</div>
<div class="section" id="sollya">
<a class="header-link" href="#sollya"><h3 id="sollya">Sollya</h3><span class="material-icons">link</span></a>
<p>The <a class="reference external" href="http://sollya.gforge.inria.fr/">Sollya</a> linux command line tool is used for
generating polynomial coefficients. Scripts for recreating how these values
were calculated can be found in the <code class="docutils literal notranslate">sollya</code> folder.</p>
<p>When writing a new script we want to call the <code class="docutils literal notranslate">fpminmax</code> sollya function, which
uses a practically efficient heuristic method to find a good polynomial
approximation of a function <code class="docutils literal notranslate">f</code> on an interval range. Our function <code class="docutils literal notranslate">f</code> will be
the original function we want to find a polynomial for, but the range should
correspond to narrowed ranged obtained using a range reduction algorithm.</p>
<p>We also need to pass <code class="docutils literal notranslate">fpminmax</code> the order of the polynomial to generate, higher
orders are more precise but also more computationally expensive. To achieve a
good trade off we work out the error of our polynomial using <code class="docutils literal notranslate">dirtyinfnorm</code>.
Then pick an order which results in an error just smaller than can be
represented by the floating point type we’re interested in, one of half/float/double
precisions.</p>
</div>
<div class="section" id="algorithms">
<a class="header-link" href="#algorithms"><h3 id="algorithms">Algorithms</h3><span class="material-icons">link</span></a>
<p>Outline of common algorithms used throughout Abacus.</p>
<div class="section" id="newton-raphson-method">
<a class="header-link" href="#newton-raphson-method"><h4 id="newton-raphson-method">Newton Raphson Method</h4><span class="material-icons">link</span></a>
<p>The NR method is a technique for finding approximations for the roots(zeros) of
a function. By starting with an initial guess for the root of the function, we
can perform repeated iterations of the algorithm to get increasingly precise
values.</p>
<p>In particular we use NR as part of the <a class="reference external" href="https://en.wikipedia.org/wiki/Fast_inverse_square_root#Newton%27s_method">fast inverse square root</a>
algorithm found in Quake, which is used as part of the implementation of many
of the builtins.</p>
</div>
</div>
<div class="section" id="halley-s-method">
<a class="header-link" href="#halley-s-method"><h3 id="halley-s-method">Halley’s Method</h3><span class="material-icons">link</span></a>
<p>Like the NR method Halley’s method is a root finding algorithm for functions,
however it improves the rate of convergence to the root for cubic functions so
we use it as part of our <code class="docutils literal notranslate">cbrt</code> implementation.</p>
<div class="section" id="horner-s-method">
<a class="header-link" href="#horner-s-method"><h4 id="horner-s-method">Horner’s Method</h4><span class="material-icons">link</span></a>
<p>Horner’s method is an algorithm for evaluating polynomials for a specific value
of x by transforming the polynomial into a computationally efficient form. It’s
particularly useful for implementing fast multiplication and division of
floating point numbers on target architectures without bespoke hardware, since
the binary number can be represented as a polynomial of base 2.</p>
</div>
<div class="section" id="cody-waite">
<a class="header-link" href="#cody-waite"><h4 id="cody-waite">Cody Waite</h4><span class="material-icons">link</span></a>
<p>Cody-Waite is a range reduction algorithm, used to bound the interval of inputs to
an elementary function. Cody-Waite is used when you are doing range reduction by
subtracting a known constant value. For example, when calculating an exponential
function, for instance <code class="docutils literal notranslate">exp(x)</code>, you will first reduce the range by subtracting
the constant value of <code class="docutils literal notranslate">log(2)</code>. The problem occurs when you have a value of <code class="docutils literal notranslate">x</code>
that is close to <code class="docutils literal notranslate">log(2)</code>, you will get a big error in the subtraction when
creating the very small result. To combat this, the Cody-Waite breaks the single
<code class="docutils literal notranslate">log(2)</code> constant into multiple sub-constants (normally 2 values, but sometimes
more!). Then we subtract these parts of the same constant multiple times from
the original value, starting with the largest part of the constant, then the
next smallest, and again and again. The result is we get a much more precise
resulting value after all these subtractions have occurred.</p>
<p>To calculate a Cody-Waite constant, you first get a very high precision value of
the constant you want (for instance using Wolfram Alpha). Then you round this
value into the precision of the value you are calculating, so for instance into
32-bit floating point. You want to round down here on the last digit of the
number. Then subtract the rounded value from the high precision value (again
using something like Wolfram Alpha), and the resulting value is your second
Cody-Waite value. Generally you want the values being subtracted to always be
positive, so if you get a negative result it means you didn’t round the original
value down enough, and need to cut it lower.</p>
</div>
<div class="section" id="payne-hanek">
<a class="header-link" href="#payne-hanek"><h4 id="payne-hanek">Payne Hanek</h4><span class="material-icons">link</span></a>
<p>Payne Hanek is a range reduction algorithm specifically for trigonometric
functions. Trigonometric functions are unique in that <code class="docutils literal notranslate">f(x) = sin(x)</code> results
in a repeated pattern across the entire range <code class="docutils literal notranslate">(sin(x) == sin(x + 2 * π))</code>.
Large floating point values need to be precisely modulo’d down into this
repeated range, but using any normal floating point tricks would result in
wildly wrong guesses. Payne Hanek solves this by using a large lookup table
representing many digits of π. Then, based on how large the floating point
value is, the relevant digits of π are used to modulo x down into the range
precisely.</p>
</div>
</div>
<div class="section" id="development-techniques">
<a class="header-link" href="#development-techniques"><h3 id="development-techniques">Development Techniques</h3><span class="material-icons">link</span></a>
<p>There are a number of common design patterns used throughout Abacus to achieve
the required ULP precision targets.</p>
<div class="section" id="reading-materials">
<a class="header-link" href="#reading-materials"><h4 id="reading-materials">Reading Materials</h4><span class="material-icons">link</span></a>
<ul class="simple">
<li><p>“Handbook of Floating-Point Arithmetic” by Jean-Michel Muller et al.</p></li>
<li><p>“Software Manual For The Elementary Functions” by William J Cody Jr and William Waite.</p></li>
</ul>
</div>
<div class="section" id="coding-conventions">
<a class="header-link" href="#coding-conventions"><h4 id="coding-conventions">Coding Conventions</h4><span class="material-icons">link</span></a>
<p>Pass OpenCL built-in scalar and vector types (<code class="docutils literal notranslate">float</code>, <code class="docutils literal notranslate">float2</code>, etc.) by value
rather than by reference to helper functions. This elminates unnecessary
<code class="docutils literal notranslate">alloca</code> instructions which can hinder optimizations like the vectorizer.</p>
</div>
<div class="section" id="exact-operations">
<a class="header-link" href="#exact-operations"><h4 id="exact-operations">Exact Operations</h4><span class="material-icons">link</span></a>
<p>Abacus includes a number of floating point helper functions to enable more
precise addition and multiplication operations, without needing to cast to a
higher precision type. The idea is that the result of an operation <code class="docutils literal notranslate">a OP b</code> is
decomposed into two numbers <code class="docutils literal notranslate">hi</code> and <code class="docutils literal notranslate">lo</code> which fit into the required
floating point data type. <code class="docutils literal notranslate">hi</code> contains the larger magnitude number and <code class="docutils literal notranslate">lo</code>
contains the smaller magnitude number.</p>
<p><code class="docutils literal notranslate">hi</code> and <code class="docutils literal notranslate">lo</code> should then be operated on independently, then combined together
later. The idea is that enough precision should be retained in intermediate
operations, so the final recombined result is more accurate than if the
decomposition wasn’t used.</p>
<p>For example, <code class="docutils literal notranslate">(a + b) * c</code> could be implemented in the following way:</p>
<pre><code class="language-c">abacus_half result_lo;
abacus_half result_hi = add_exact(a, b, &amp;result_lo);
result_lo *= c;
result_hi *= c;
abacus_half final = result_hi + result_lo;
</code>
</pre>
</div>
<div class="section" id="chaining-exact-operations">
<a class="header-link" href="#chaining-exact-operations"><h4 id="chaining-exact-operations">Chaining Exact Operations</h4><span class="material-icons">link</span></a>
<p>It is possible to chain exact operations to further increase the final precision
depending on the magnitudes of the intermediate numbers. For example, computing
the same example as above:</p>
<pre><code class="language-c">abacus_half int_lo;
abacus_half int_hi = add_exact(a, b, &amp;int_lo);

abacus_half result_lo
abacus_half result_hi = multiply_exact(int_hi, c, &amp;result_lo);

// We've multiplied int_hi and c, but we also need to multiply int_lo and c. add
// this to result_lo, as it will more than likely have a low enough magnitude to
// hold the result.
result_lo += int_lo * c;

// result_hi and result_lo represents the decomposition of the final value.
</code>
</pre>
<p>or instead, computing <code class="docutils literal notranslate">a * b + c</code>:</p>
<pre><code class="language-default">abacus_half int_lo;
abacus_half int_hi = multiply_exact(a, b, &amp;int_lo);

abacus_half result_lo
abacus_half result_hi = add_exact(int_hi, c, &amp;result_lo);
result_lo += int_lo;

// result_hi and result_lo represents the decomposition of the final value.
</code>
</pre>
</div>
<div class="section" id="utilising-exact-operations-in-horner-polynomials">
<a class="header-link" href="#utilising-exact-operations-in-horner-polynomials"><h4 id="utilising-exact-operations-in-horner-polynomials">Utilising Exact Operations In Horner Polynomials</h4><span class="material-icons">link</span></a>
<p>Horner Polynomials are used to implement a number of functions. As this
calculation involves chaining many multiplications and additions, it can be made
more accurate by replacing parts of the Horner Polynomial calculation with calls
to <code class="docutils literal notranslate">multiply_exact</code> and <code class="docutils literal notranslate">add_exact</code>. An example of this can be found in the half
implementation of <code class="docutils literal notranslate">acos</code>.</p>
</div>
</div>
<div class="section" id="optimization-ideas">
<a class="header-link" href="#optimization-ideas"><h3 id="optimization-ideas">Optimization Ideas</h3><span class="material-icons">link</span></a>
<p>Notes from one of the significant contributors to Abacus about how to
optimize our implementation. These may or may not still be valid.</p>
<div class="section" id="pown">
<a class="header-link" href="#pown"><h4 id="pown">pown</h4><span class="material-icons">link</span></a>
<p>Somehow abuse the fact that the 32 bit int gets cast perfectly to a double, less
accuracy is probably needed.</p>
</div>
<div class="section" id="tan">
<a class="header-link" href="#tan"><h4 id="tan">tan</h4><span class="material-icons">link</span></a>
<p>Value of <code class="docutils literal notranslate">pi/4</code> in 32 bit p-h may not be the best one, it seems to be off by a
(base 10) digit. (so maybe it’d be the same) Might not need extra rtz code if
that’s the case.</p>
<p>Pad the start of <code class="docutils literal notranslate">payload[]</code> with 0’s, change it so that works, and you won’t
need to do cody waithe at all. Instead of payloads entirely use an array of
floats/double and use exact multiplies and adds. Could be big, but would take
lots of time</p>
<p>Don’t multiply by <code class="docutils literal notranslate">fractPiOver4</code> at the end of p-h. Incorporate it into the
final polynomial estimate. Would take out all that big RTZ code :D (done in double).</p>
</div>
<div class="section" id="double-tan">
<a class="header-link" href="#double-tan"><h4 id="double-tan">double tan</h4><span class="material-icons">link</span></a>
<p>Polynomials could be better. Need extended precision for proper testing so I’ll
have to leave it for now.</p>
</div>
<div class="section" id="sin-cos">
<a class="header-link" href="#sin-cos"><h4 id="sin-cos">sin cos</h4><span class="material-icons">link</span></a>
<p>Polynomials can probably be made a bit better.</p>
</div>
<div class="section" id="sinpi-cospi">
<a class="header-link" href="#sinpi-cospi"><h4 id="sinpi-cospi">sinpi &amp; cospi</h4><span class="material-icons">link</span></a>
<p>You might be able to use a lower degree polynomial, and it just didn’t pass on
my computer because of the +0.5 ULP. Might pass on a higher precision machine.
<code class="docutils literal notranslate">cospi</code> uses the same polynomial so be sure to change both. Maple didn’t like
the <code class="docutils literal notranslate">cospi</code> one so I had to work around it</p>
</div>
<div class="section" id="sqrt-float">
<a class="header-link" href="#sqrt-float"><h4 id="sqrt-float">sqrt float</h4><span class="material-icons">link</span></a>
<p>I seem to remember you don’t need to do the checks for <code class="docutils literal notranslate">xBig</code> if you change the
NR iteration to be:</p>
<pre><code class="language-default">result = 0.5f * result * (3.0f - result * (result * x));
</code>
</pre>
<p>Instead of:</p>
<pre><code class="language-default">result = 0.5f * result * (3.0f - (result * result) * x);
</code>
</pre>
<p>Or for some combination of them. Free opt if you can get it. Thought I’d put it
into BC’s code but maybe not. There might have had to be an odd number of NR
iterations too or something to that effect.</p>
</div>
<div class="section" id="atan2">
<a class="header-link" href="#atan2"><h4 id="atan2">atan2</h4><span class="material-icons">link</span></a>
<p>This 19 degree polynomial was the best that can be found under the current
algorithm. I imagine you could maybe split the interval into 2 or 4 or <code class="docutils literal notranslate">w/e</code> and
have different polynomials over it, but I’m not sure how much of a speedup you
could expect really.</p>
<blockquote>
<div><p>We should ignore above advice, split interval is bad for vector code.</p>
</div></blockquote>
</div>
<div class="section" id="exp-double">
<a class="header-link" href="#exp-double"><h4 id="exp-double">exp double</h4><span class="material-icons">link</span></a>
<p>Use a lesser degree polynomial. Don’t think much else goes here.</p>
</div>
<div class="section" id="tanh">
<a class="header-link" href="#tanh"><h4 id="tanh">tanh</h4><span class="material-icons">link</span></a>
<p>Prime candidate for polynomial estimate. You need to do polynomials in the
range (0,18) to be done. They’ll probably be long, but better than the divide
that’s there at the moment.</p>
</div>
<div class="section" id="erfc">
<a class="header-link" href="#erfc"><h4 id="erfc">erfc</h4><span class="material-icons">link</span></a>
<p>Not really much. The problem here is what you’re testing against, as there’s
reference test. Intels is lacking in the [26.5,27.0] department, where the
answers are denormal, but we seem to match them everywhere but there.
More than likely all the polynomials can be shortened, but having to calculate
<code class="docutils literal notranslate">exp(x^2)</code> accurately seems to have to happen.</p>
</div>
<div class="section" id="erf">
<a class="header-link" href="#erf"><h4 id="erf">erf</h4><span class="material-icons">link</span></a>
<p>Could separate it from <code class="docutils literal notranslate">erfc</code>, but again what do you test against. Used <code class="docutils literal notranslate">erfc</code>
to make sure it’s overly accurate</p>
</div>
</div>
<div class="section" id="tgamma">
<a class="header-link" href="#tgamma"><h3 id="tgamma">tgamma</h3><span class="material-icons">link</span></a>
<p>Keep a separate track of above and below fractions so you only need to do one
divide. Just try find a better algorithm in general! It’s quite a hard function.</p>
<div class="section" id="lgamma">
<a class="header-link" href="#lgamma"><h4 id="lgamma">lgamma</h4><span class="material-icons">link</span></a>
<p>Problem once again being an incomplete reference function. Our one is better
than the test one anyway. It’s very branchy, but I think it needs to be. For
x &gt; 10 stirlings approximation is the way to go unless you want to split the
whole double range up into polynomials. For x &gt; 0 we have a max ulp &lt; 16, and
for x &gt; 15 a max ulp of something very small, maybe 1.</p>
</div>
<div class="section" id="rsqrt">
<a class="header-link" href="#rsqrt"><h4 id="rsqrt">rsqrt</h4><span class="material-icons">link</span></a>
<p>Take out the last more accurate Newton Rhapson iteration if you can. It’s very
slow. Take out the <code class="docutils literal notranslate">frexp</code> and <code class="docutils literal notranslate">ldexp</code> also, that’d be a big saving. I’ll do
this if there’s time.</p>
</div>
<div class="section" id="cbrt">
<a class="header-link" href="#cbrt"><h4 id="cbrt">cbrt</h4><span class="material-icons">link</span></a>
<p>The polynomial could probably be shorter. Maybe a better general algorithm, one
without a divide. It seems to be quite hard to find one. A more streamlined
<code class="docutils literal notranslate">frexp</code>/<code class="docutils literal notranslate">ldexp</code> is probably in order too.</p>
</div>
<div class="section" id="exp10">
<a class="header-link" href="#exp10"><h4 id="exp10">exp10</h4><span class="material-icons">link</span></a>
<p>Instead of the normal cody waithe, which leads to a long enough polynomial, we’ve
reduced <code class="docutils literal notranslate">mod ln(10)/2ln(2)</code> instead of <code class="docutils literal notranslate">ln(10)/ln(2)</code>, aka half the interval.
This reduces the polynomial but you have to do one additional small branch.
Probably worth it on CPU anyway. Probably don’t need the 4th cody waithe
constant either, I suspect not.</p>
<p>Edit: it was only 1 (2?) extra polynomial term saved so scrapping this idea.
Maybe an early return for Nans would be better, though it’s not needed.</p>
</div>
<div class="section" id="expm1">
<a class="header-link" href="#expm1"><h4 id="expm1">expm1</h4><span class="material-icons">link</span></a>
<p>I couldn’t get it to pass, but I think it’s because of the extra 0.5 ulp that
gets added onto on my machine. Is probably fine on cpu but could maybe be
streamlined a bit.</p>
</div>
<div class="section" id="rootn">
<a class="header-link" href="#rootn"><h4 id="rootn">rootn</h4><span class="material-icons">link</span></a>
<p>Is a little bit too accurate at the moment, reducing the second polynomial is
the best way to make it less accurate.</p>
</div>
<div class="section" id="log1p">
<a class="header-link" href="#log1p"><h4 id="log1p">log1p</h4><span class="material-icons">link</span></a>
<p>Is probably fine for a branchy algorithm, not sure how to best speed it
up/refactor it.</p>
</div>
<div class="section" id="remquo-remainder">
<a class="header-link" href="#remquo-remainder"><h4 id="remquo-remainder">remquo &amp; remainder</h4><span class="material-icons">link</span></a>
<p>Find a way of doing bigger reductions to the input variables in the cases where
they’re far apart. This is going to involve guessing an integer as close as
possible to <code class="docutils literal notranslate">q = (x/m)</code>, the closer the better, (<code class="docutils literal notranslate">not x/m</code> will overflow so we
need to be smarter, then calculating <code class="docutils literal notranslate">xNew = x - q*m</code>  via exact multiplication
and addition. If <code class="docutils literal notranslate">q</code> is close enough to <code class="docutils literal notranslate">(x/m)</code> this will be exact, and we have
<code class="docutils literal notranslate">remquo(x,m) = remquo(xNew, m)</code>. Should be possible without too much work, at
the moment in the worst case you can have a loop that goes on for
<code class="docutils literal notranslate">2*1024 / 11 = 187</code> loops. Argh.</p>
</div>
</div>
</div>
</div>
</div>
</div></body>
<!-- Mirrored from 127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 22 Sep 2025 18:52:46 GMT -->
</html>
                    <a id="bottom"></a>
                </div>

                <!-- Separator -->
                <div class="separator"></div>

                <!-- Rate -->
                <div id="rate" class="rate collapsed">
                    <div>
                        Rate this Guide
                    </div>
                    <form action="https://formspree.io/f/xzbypbvl" method="post">
                        <input type="hidden" name="subject" value="Guide Feedback" />
                        <input type="hidden" name="product" value="oneAPI" />
                        <input type="hidden" name="variant" value="Construction Kit" />
                        <input type="hidden" name="guide" value="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/abacus" />

                        <div class="up" title="Thumb up this guide">
                           <i class="material-icons">thumb_up</i>
                       </div>
                        <div class="down" title="Thumb down this guide">
                            <i class="material-icons">thumb_down</i>
                        </div>
                        <div>
                            <input type="text" name="message"
                                   required="required"
                                   minlength="3"
                                   maxlength="1000"
                                   placeholder="How can we improve this guide? (press enter to send)" />
                        </div>
                    </form>
                </div>

                <!-- Separator -->
                <div class="separator"></div>

                <!-- Navigator -->
                <div id="navigator">
                    <div>
                        <a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins#bottom"
                            >
                            <div>
                                <i class="material-icons">navigate_before</i>
                            </div>
                            <div>
                                <h1>Builtins</h1>
                            </div>
                        </a>
                    </div>
                    <div>
                        <a href="http://127.0.0.1/products/oneapi/construction-kit/4.0.0/guides/modules/builtins/libimg"
                            >
                            <div>
                                <h1>Image Library</h1>
                            </div>
                            <div>
                                <i class="material-icons">navigate_next</i>
                            </div>
                        </a>
                    </div>
                </div>
            </article>

            <!-- Separator -->
            <div class="separator"></div>

            <!-- Footer Target -->
            <div id="footer-target"></div>
        </div>

        <!-- File Jump List -->
        <div id="jump-list-container" class="sticky styled-scroller">
            <div class="nav-padding">
                <div class="jump-list-container">
                    <h1 class="file-container-title">
                        <span class="material-icons">assignment</span>Jump to Section
                    </h1>
                    <ol class="in-page-jump-list">
                        <li class="heading-1"><a href="#abacus">Abacus</a></li>
                        <li class="heading-2"><a href="#release-notes">Release Notes</a></li>
                        <li class="heading-2"><a href="#hardware-requirements">Hardware Requirements</a></li>
                        <li class="heading-2"><a href="#implementation">Implementation</a></li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Handle layout resizing here to avoid jumping -->
<script nonce="ce8d06586f822e9f047f20c6011339bd">
    const resizerCookie = getCookie('CDPRESIZER');
    if (resizerCookie) {
        const cookieValue = JSON.parse(resizerCookie);

        for (let [key, value] of Object.entries(cookieValue)) {
            if (value === null || value === undefined) {
                continue;
            }

            key = atob(key);
            $(':root')[0].style.setProperty('--' + key, value + 'px');
        }
    }
</script>

</main>

<!-- Product Selector-->
<div id="productSelectorDialog" class="popupDialog">
    <div class="side-by-side-panel panel">
        <div id="products">
            <div>
                <h1>Select a Product</h1>
            </div>
            <ul>
                <li>
                    <a class="productSelection oneapi" data-product="oneapi">
                        oneAPI
                    </a>
                </li>
            </ul>
        </div>
        <div id="product-selection">
            <div id="no-product">
                Please select a product
            </div>
            <div id="product">
                <div id="product-oneapi" class="product-view">
                    <h1>

                        oneAPI
                    </h1>
                    <p>oneAPI is a cross-industry, open, standards-based unified programming model that delivers a common developer experience across accelerator architecture - for faster application performance, more productivity, and greater innovation.</p>
                    <ul id="variants">
                        <li>
                            <a href="http://127.0.0.1/products/oneapi/construction-kit/">
                                <div>
                                    Construction Kit
                                </div>
                                <div>
                                    <i class="material-icons">arrow_right</i>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="http://127.0.0.1/products/oneapi/amd/">
                                <div>
                                    for AMD GPU
                                </div>
                                <div>
                                    <i class="material-icons">arrow_right</i>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="http://127.0.0.1/products/oneapi/nvidia/">
                                <div>
                                    for NVIDIA® GPUs
                                </div>
                                <div>
                                    <i class="material-icons">arrow_right</i>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Color Scheme Selector-->
<div id="colorSchemeDialog" class="popupDialog">
    <div>
        <div class="selectDarkMode">
            <div>
                <img src="http://127.0.0.1/assets/img/darkmode.png" alt="Dark Mode" />
            </div>
            <div>
                <i class="material-icons">brightness_2</i>
                <h1>Dark Mode</h1>
                <p>Light text on a dark background.</p>
            </div>
        </div>
        <div class="selectLightMode">
            <div>
                <img src="http://127.0.0.1/assets/img/lightmode.png" alt="Light Mode" />
            </div>
            <div>
                <i class="material-icons">lightbulb_outline</i>
                <h1>Light Mode</h1>
                <p>Dark text on a light background.</p>
            </div>
        </div>
    </div>
</div>

<!-- Site Selector -->
<div id="siteSelectorDialog" class="popupDialog">
    <div class="panel" id="profile-panel">
        <header>
            <div>
                <i class="material-icons">public</i>
            </div>
            <div>
                <h1>Also,</h1>
                <h2>part of our network</h2>
            </div>
        </header>
        <ul>
            <li>
                <a href="https://www.codeplay.com/" target="_blank" rel="nofollow noopener noreferrer">
                    <h1>Codeplay.com</h1>
                    <p>Find out about Codeplay, the latest company news and blog posts.</p>
                </a>
            </li>
            <li>
                <a href="https://www.sycl.tech/" target="_blank" rel="nofollow noopener noreferrer">
                    <h1>SYCL.tech</h1>
                    <p>Find out about the latest SYCL news, videos and projects.</p>
                </a>
            </li>
            <li class="selected">
                <a>
                    <img src="http://127.0.0.1/assets/img/you-are-here.png" alt="You Are Here Logo" />
                    <h1>Codeplay Developer</h1>
                    <p>Get the latest documentation and release packages for ComputeCpp and ComputeSuite</p>
                </a>
            </li>
            <li>
                <a href="https://github.com/codeplaysoftware" target="_blank" rel="nofollow noopener noreferrer">
                    <h1>Codeplay Open Source</h1>
                    <p>Browse our open source projects and frameworks on GitHub.</p>
                </a>
            </li>
        </ul>
    </div>
</div>

<!-- Footer section -->
<footer class="section-padding">
    <div class="content-wrapper">
        <div>
            <h1>&copy; Codeplay Software Ltd</h1>
            <div id="copyright"></div>
        </div>
        <div>
            <ul>
                <li><a href="https://codeplay.com/" target="_blank" rel="noopener">
                    Visit codeplay.com</a></li>
                <li><a href="https://codeplay.com/company/privacy/" target="_blank" rel="noopener">
                    View Our Privacy Policy</a></li>
                <li><a href="http://127.0.0.1/cookies/">
                    Read Our Cookie Policy</a></li>
            </ul>
        </div>
    </div>
</footer>

</body>
</html>